{{ define "main" }}
<div class="list-page posts-list">
  <header class="page-header">
    <h1>Posts</h1>
    {{ with .Description }}
    <p class="page-description">{{ . }}</p>
    {{ end }}
  </header>

  {{ $pages := .Pages.ByDate.Reverse }}
  {{ if $pages }}
  <ul class="post-list">
    {{ range $pages }}
    <li>
      <article class="post-item">
        <time datetime="{{ .Date.Format "2006-01-02" }}">{{ .Date.Format "2 Jan 2006" }}</time>
        <a href="{{ .Permalink }}">{{ .Title }}</a>
        {{ with .Description }}
        <p class="post-excerpt">{{ . }}</p>
        {{ else with .Summary }}
        <p class="post-excerpt">{{ . | plainify | truncate 160 }}</p>
        {{ end }}
      </article>
    </li>
    {{ end }}
  </ul>
  {{ end }}

  {{ template "_internal/pagination.html" . }}
</div>
{{ end }}
